<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Music Channel</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-white font-sans">

    <header class="py-10 text-center">
        <h1 class="text-4xl font-bold text-red-500">MY NEW RELEASES</h1>
        <p class="text-gray-400 mt-2">อัปเดตเพลงใหม่ล่าสุดจาก YouTube ของฉันโดยอัตโนมัติ</p>
    </header>

    <div class="container mx-auto px-4">
        <div id="video-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            <p class="text-center col-span-full">กำลังโหลดเพลงโปรดของคุณ...</p>
        </div>
    </div>

    <script>
        // 1. ใส่ข้อมูลของคุณตรงนี้
        const API_KEY = 'AIzaSyCatLUYqoDhn0LPRFFHJ27AQsvZk6MoeZ8'; // ไปเอาที่ Google Cloud Console
        const CHANNEL_ID = 'UCVQf3nHZNjMrD3XfBd6y_tg'; // รหัสช่องของคุณ
        const MAX_RESULTS = 20; // จำนวนเพลงที่จะโชว์

        async function fetchMyMusic() {
            const url = `https://www.googleapis.com/youtube/v3/search?key=${API_KEY}&channelId=${CHANNEL_ID}&part=snippet,id&order=date&maxResults=${MAX_RESULTS}&type=video`;

            try {
                const response = await fetch(url);
                const data = await response.json();
                displayVideos(data.items);
            } catch (error) {
                console.error('เกิดข้อผิดพลาด:', error);
                document.getElementById('video-container').innerHTML = '<p class="text-center col-span-full text-red-400">โหลดข้อมูลไม่สำเร็จ กรุณาตรวจสอบ API Key</p>';
            }
        }

        function displayVideos(videos) {
            const container = document.getElementById('video-container');
            container.innerHTML = ''; // ล้างข้อความ Loading

            videos.forEach(video => {
                const title = video.snippet.title;
                const thumb = video.snippet.thumbnails.high.url;
                const videoId = video.id.videoId;

                const card = `
                    <div class="bg-gray-800 rounded-lg overflow-hidden shadow-lg transition transform hover:scale-105">
                        <a href="https://www.youtube.com/watch?v=${videoId}" target="_blank">
                            <img src="${thumb}" alt="${title}" class="w-full h-48 object-cover">
                            <div class="p-4">
                                <h3 class="text-lg font-semibold truncate">${title}</h3>
                                <p class="text-gray-400 text-sm mt-2">คลิกเพื่อฟังเพลง</p>
                            </div>
                        </a>
                    </div>
                `;
                container.innerHTML += card;
            });
        }

        // เรียกใช้งานฟังก์ชัน
        fetchMyMusic();
    </script>
</body>
</html>